#视频编码基本概念

##基本对象
###源视频流
	码率
###编码器
###传输通道
	带宽，码率
		Subtopic 1
###解码器
	buffer
		可能存在的问题
			上溢
				超出部分被写入上级缓冲区
			下溢
				超出部分被写入下级缓冲区
		产生原因：
			源视频流码率和通道带宽不匹配
###显示器

##rate control
###分类
* 基于传输方式
	* constant bit rate(CBR) 通道带宽为常数
	* variable bit rate(VBR) 不为常数
* 基于操作单元
	* macroblock
	* slice
	* frame
	* GOP

###主要解决的问题
* 基于buffer状态，给每个编码单元CU分配bits--rate allocation
	* 伴随问题：buffer model
		* 264中为HRD--hypothetical reference decoder
			* 数学模型--leaky bucket
			* 位置
				* encoder后面，连接encoder

			* 组成
				* decoder buffer--input buffer,CPB
					* bitstream恒定速率流入，以块形式流出
					* bitstream必须满足条件，不overflow或者underflow
				* decoder
				* display unit
				* 
* 调整编码参数，根据给定bits合理编码CU--quantization parameter adjustment
	* 核心问题：
		* 找到rate，QP之间的关系
			* 基于RD模型，直接表示
				* 线性关系
				* 非线性关系

			* 基于量化后相关系数中0的比例，间接表示


##SVC：
解决问题：
波动码率的网络中视频质量提升

* spatially scalable,resolutioin-scalable
    * 更小的图片尺寸
    * 编码不知道终端的显示能力
* temporally scalable： 
    * 低码率
    * 编码器不知道带宽/终端的complexity capacity
* quality scalable，SNR-scalable： 
    * base layer: coding modes, motion vector
    * enhancement layer: DCT residuals 


一般做法：
编码器预编码
终端选择性的下载，减少大小，减少码率版本